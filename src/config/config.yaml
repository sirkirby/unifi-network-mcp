unifi:
  host: ${UNIFI_HOST}
  username: ${UNIFI_USERNAME}
  password: ${UNIFI_PASSWORD}
  port: ${oc.env:UNIFI_PORT,443}
  site: ${oc.env:UNIFI_SITE,default}
  verify_ssl: ${oc.env:UNIFI_VERIFY_SSL,false}
  controller_type: ${oc.env:UNIFI_CONTROLLER_TYPE,auto}

server:
  host: 0.0.0.0
  port: 3000
  log_level: INFO

  # Tool registration mode (New in v0.2.0)
  # Options: eager, lazy, meta_only
  # - eager: Register all 67 tools immediately (~5,000 tokens) - Best for dev console, automation
  # - lazy: Register 3 meta-tools, load others on-demand (~225 tokens) - RECOMMENDED for LLMs
  # - meta_only: Register only 3 meta-tools, manual discovery (~225 tokens) - Maximum control
  tool_registration_mode: ${oc.env:UNIFI_TOOL_REGISTRATION_MODE,lazy}

  http:
    enabled: ${oc.env:UNIFI_MCP_HTTP_ENABLED,false}
  diagnostics:
    enabled: ${oc.env:UNIFI_MCP_DIAGNOSTICS,false}
    log_tool_args: ${oc.env:UNIFI_MCP_DIAG_LOG_TOOL_ARGS,true}
    log_tool_result: ${oc.env:UNIFI_MCP_DIAG_LOG_TOOL_RESULT,true}
    max_payload_chars: ${oc.env:UNIFI_MCP_DIAG_MAX_PAYLOAD,2000}
  
permissions:

  default:
    create: true
    update: true

  firewall_policies:
    create: true
    update: true
    
  traffic_routes:
    create: true
    update: true
    
  port_forwards:
    create: true
    update: true
    
  qos_rules:
    create: true
    update: true
    
  vpn_clients:
    create: true
    update: true

  networks:
    create: false  # Provisioning a new network can disrupt traffic
    update: false  # Changing subnets, VLANs, DHCP ranges requires care

  wlans:
    create: false
    update: false

  devices:
    create: false  # Adoption / provisioning â€“ normally handled by controller, not tools
    update: false  # Firmware upgrade, rename, etc.

  clients:
    create: false  # Not applicable, but kept for symmetry
    update: false  # Block/unblock, rename, reconnect

  vpn_servers:
    create: false
    update: true